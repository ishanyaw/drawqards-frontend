<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DrawQards</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div class="container" id="app">
    <div id="auth-section">
      <h2>Welcome! Please login or register.</h2>
      <input type="text" id="username-input" placeholder="Username" />
      <input type="password" id="password-input" placeholder="Password" />
      <button id="login-btn">Login</button>
      <button id="register-btn">Register</button>
      <div id="auth-message"></div>
    </div>

    <div id="main-section" style="display:none;">
      <header>
        <h2>Hello, <span id="user-name-display"></span>!</h2>
        <button id="logout-btn">Logout</button>
      </header>
      <div id="xp-bar">
        <div id="xp-fill" style="width: 0%"></div>
      </div>

      <nav>
        <button class="nav-btn active" data-section="draw-section">Draw</button>
        <button class="nav-btn" data-section="deck-section">Deck</button>
        <button class="nav-btn" data-section="vault-section">Vault</button>
        <button class="nav-btn" data-section="leaderboard-section">Leaderboard</button>
      </nav>

      <section id="draw-section" class="section active">
        <h3>Draw a Card</h3>
        <button id="draw-btn">Draw Now</button>
        <div id="draw-result"></div>
      </section>

      <section id="deck-section" class="section" style="display:none;">
        <h3>Your Deck</h3>
        <div id="deck-list"></div>
      </section>

      <section id="vault-section" class="section" style="display:none;">
        <h3>Your Vault</h3>
        <p>Coins: <span id="coin-count">0</span></p>
      </section>

      <section id="leaderboard-section" class="section" style="display:none;">
        <h3>Leaderboard</h3>
        <ul id="leaderboard-list"></ul>
      </section>
    </div>
  </div>

  <script src="js/script.js"></script>
  <script>
    // Navigation buttons event
    document.querySelectorAll('.nav-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        const section = btn.getAttribute('data-section');
        document.querySelectorAll('.section').forEach(sec => {
          sec.style.display = 'none';
          sec.classList.remove('active');
        });
        const activeSection = document.getElementById(section);
        if (activeSection) {
          activeSection.style.display = 'block';
          activeSection.classList.add('active');
        }
      });
    });

    // Hook buttons to rea login/register/logout/draw functions
    document.getElementById('login-btn').addEventListener('click', login);
    document.getElementById('register-btn').addEventListener('click', register);
    document.getElementById('logout-btn').addEventListener('click', logout);
    document.getElementById('draw-btn').addEventListener('click', drawCard);
  </script>
</body>
</html>